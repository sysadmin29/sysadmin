---
- name: Get MAC addresses via Ansible facts
  hosts: 10.50.20.58
  gather_facts: yes

  tasks:
    - name: Show all MAC addresses
      debug:
        msg: "{{ ansible_facts.interfaces | map('extract', ansible_facts) | map(attribute='macaddress') | list }}"
